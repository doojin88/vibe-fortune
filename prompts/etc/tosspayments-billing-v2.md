# 자동결제(빌링) 이해하기

**Version 2** 새로 나온

## 자동결제(빌링) 이해하기

[자동결제](/resources/glossary/billing)는 정기 배송, 음악 스트리밍과 같은 구독형 서비스에서 사용할 수 있어요. **정기 구독형 서비스가 아니라면 정책적으로 자동결제 사용이 제한되니 유의하세요.**

토스페이먼츠는 현재 신용·체크카드 자동결제만 지원해요. 구매자의 카드 번호, 유효기간과 카드 소유자의 생년월일 또는 사업자번호가 필요해요. 아래와 같이 토스페이먼츠 UI로 구매자 정보를 받고 싶다면 SDK를 연동하세요.

* 자동결제는 추가 리스크 검토 및 계약 후 사용할 수 있습니다. 토스페이먼츠 고객센터(1544-7772, support@tosspayments.com)로 문의해주세요.

![토스페이먼츠 자동결제](https://static.tosspayments.com/docs/billing/billing-main.png)

## 구독 서비스는 어떻게 만들어야 하나요?

구독 서비스는 API를 사용해서 직접 구축해야 합니다. 1달 주기로 결제가 필요한 상품이면 1달마다 `customerKey`, 빌링키, 금액을 설정해서 카드 자동결제 승인 API를 호출하면 됩니다. 구현하는 방법이 궁금하다면 [구독 결제 서비스 간단히 구현하기](/blog/subscription-service-1)시리즈를 참고하세요.

## 구매자가 구독을 취소하면 어떻게 해야 하나요?

다음 결제일에 구독을 취소한 구매자의 빌링키, `customerKey`로 카드 자동결제 승인 API를 호출하지 않으면 됩니다.

## 구독 결제 금액이나 결제 주기가 변경되면 어떻게 해야 하나요?

금액이 바뀌었다면 카드 자동결제 승인 API를 호출할 때 `amount` 파라미터를 변경된 결제 금액으로 설정하면 됩니다. 결제 주기가 바뀌었다면 카드 자동결제 승인 API를 호출하는 주기를 변경해주세요.

## 간편결제로 자동결제(빌링)를 구현할 수 있나요?

아니요. 토스페이먼츠 자동결제(빌링)는 국내 카드만 지원해요. 토스페이, 카카오페이, 네이버페이와 같은 국내 간편결제는 지원하지 않습니다. PayPal(페이팔)과 같은 해외 간편결제도 지원하지 않습니다.

## 자동결제(빌링)는 모바일 연동을 지원하나요?

네 자동결제(빌링)는 토스페이먼츠 JavaScript SDK 또는 API로 모바일에 연동할 수 있습니다. 하지만 React Native, Flutter, Android, iOS 네이티브 SDK는 아직 제공하지 않습니다.

## 연동하기

## 자동결제(빌링) 과정

일반결제는 결제하는 시점에 매번 구매자의 본인인증이 필요하지만, **자동결제는 구독 주기마다 본인인증 없이 결제할 수 있습니다.** 최초의 본인인증으로 발급된 빌링키가 이후의 본인인증 과정을 대신합니다.

### 빌링키란?

[빌링키](/resources/glossary/billing#빌링키-이해하기)는 결제 타입에 따라 카드번호, 유효기간, CVC, 계좌번호 등 결제 정보를 암호화한 값이에요. 기술적으로는 매 회 본인인증이 일어나지만, 구매자 입장에서는 최초 인증 후에는 인증 과정이 없고 의사와 무관하게 빌링키로 계속 결제가 가능해요. 악용되지 않게 반드시 구매자 본인인증을 받은 뒤에 빌링키를 발급받는 것을 추천해요.

![정기 결제 빌링키 사용 흐름도](https://static.tosspayments.com/docs/glossary/billing-key.png)

## 카드를 재발급 받거나 유효기간이 만료되면 어떻게 해야 하나요?

새로운 카드 정보로 빌링키를 다시 발급받으세요. 빌링키를 갱신하는 별도 과정은 없습니다.

## 결제할 수 있는 카드인지 유효성을 검사할 수 있는 방법은 없나요?

카드의 유효성 검사는 제공하지 않습니다. 자동결제에 등록할 카드의 유효성 여부는 [빌링키 발급을 요청](/reference#customerkey로-카드-자동결제-빌링키-발급-요청)할 때 카드사를 통해 확인합니다. 만약 유효하지 않다면 [에러](/reference/error-codes#카드-자동결제-빌링키-발급-요청)를 응답합니다. 카드 잔고 부족이나 한도 초과는 [결제 승인을 요청](/reference#카드-자동결제-승인)할 때 카드사를 통해 확인합니다.

## 빌링키를 조회할 수 있나요?

발급된 빌링키를 조회하는 API는 제공되지 않습니다. 빌링키 발급 이후 반드시 안전하게 저장하세요. 만약에 빌링키를 잃어버렸다면 구매자에게 다시 결제 정보를 받아서 같은 카드에 새로운 빌링키를 발급받아주세요. 카드 하나에 여러 개의 빌링키를 중복으로 발급할 수 있어요. 빌링키 중복 발급을 방지하는 방법은 없습니다.

### 자동결제 과정

아래 과정을 따라서 내 상점만의 구독형 서비스를 구축해보세요. 결제 주기에 따라 자동결제를 승인하는 것은 직접 스케줄링해야 됩니다. [구독 결제 서비스 구현하기 (2) 스케줄링](/blog/subscription-service-2) 블로그 아티클에서 자세한 내용 확인하세요.

1. [토스페이먼츠 SDK](/sdk/v2/js) UI로 구매자의 카드 정보 수집 및 본인인증
2. 토스페이먼츠 [자동결제 API](/reference#자동결제)로 빌링키 발급
3. 빌링키와 구매자 ID 매핑하여 저장
4. 결제 주기(구독 서비스 결제일)에 빌링키로 원하는 금액 자동결제 승인

![자동결제-흐름](https://static.tosspayments.com/docs/billing/billing-overview.png)

---

## 참고 자료

- **원본 문서**: [토스페이먼츠 자동결제(빌링) 이해하기](https://docs.tosspayments.com/guides/v2/billing.md)
- **관련 문서**: 
  - [구독 결제 서비스 구현하기 (1) 빌링키 발급](https://docs.tosspayments.com/blog/subscription-service-1)
  - [구독 결제 서비스 구현하기 (2) 스케줄링](https://docs.tosspayments.com/blog/subscription-service-2)
  - [토스페이먼츠 JavaScript SDK v2](https://docs.tosspayments.com/sdk/v2/js)
  - [자동결제 API 레퍼런스](https://docs.tosspayments.com/reference#자동결제)

---

## 주요 키워드

- 정기 결제, 빌링, billing, 구독
- billingKey, 빌링키, 구독 결제, 빌링키 발급
- schedule, scheduling, cron, cron job, 스케줄링, 스케줄러
- 빌링키 관리, 추가 계약, 카드 등록
- 결제 주기 변경, 원하는 시점, 특정 시점
