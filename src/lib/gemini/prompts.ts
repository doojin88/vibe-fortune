/**
 * Gemini API 프롬프트 생성 함수
 *
 * 사주분석을 위한 프롬프트를 생성합니다.
 * 무료 사용자와 Pro 사용자에 대해 다른 프롬프트를 제공합니다.
 */

import type { SajuInput } from '@/features/saju/types/input';
import 'server-only';

/**
 * 기본 사주분석 프롬프트 (무료 사용자용)
 *
 * Gemini 2.0 Flash 모델과 함께 사용됩니다.
 * 기본적인 사주분석 항목을 포함합니다.
 *
 * @param input - 사주분석 입력 정보
 * @returns 프롬프트 문자열
 */
export function generateSajuPrompt(input: SajuInput): string {
  const birthTimeText = input.birthTime || '미상';
  const genderText = input.gender === 'male' ? '남성' : '여성';

  return `당신은 20년 경력의 전문 사주팔자 상담사입니다.

**입력 정보**:
- 성함: ${input.name}
- 생년월일: ${input.birthDate}
- 출생시간: ${birthTimeText}
- 성별: ${genderText}

**분석 요구사항**:
다음 섹션을 포함하여 상세한 사주분석 결과를 마크다운 형식으로 작성해주세요:

1. **천간(天干)과 지지(地支)**: 생년월일시의 사주팔자를 계산하고 해석
2. **오행(五行) 분석**: 목(木), 화(火), 토(土), 금(金), 수(水)의 균형 분석
3. **대운(大運)과 세운(歲運)**: 인생의 흐름과 현재 운세
4. **성격 분석**: 타고난 성격, 장단점, 대인관계 성향
5. **재운 분석**: 재물운, 재테크 성향
6. **건강운 분석**: 주의해야 할 건강 부위
7. **연애운 분석**: 이성관계, 결혼운

**출력 형식**: 마크다운 (제목, 목록, 강조 활용)

**금지 사항**:
- 의료·법률 조언 금지
- 확정적 미래 예측 금지
- 부정적·공격적 표현 금지

각 섹션은 명확한 제목(## 또는 ###)으로 구분하고, 이해하기 쉽게 작성해주세요.`;
}

/**
 * Pro 사주분석 프롬프트 (Pro 사용자용)
 *
 * Gemini 2.0 Flash 모델과 함께 사용됩니다.
 * Pro 전용 추가 분석 항목을 포함합니다.
 *
 * @param input - 사주분석 입력 정보
 * @returns 프롬프트 문자열
 */
export function generateProSajuPrompt(input: SajuInput): string {
  const birthTimeText = input.birthTime || '미상';
  const genderText = input.gender === 'male' ? '남성' : '여성';

  return `당신은 30년 경력의 전문 사주팔자 상담사입니다.

**입력 정보**:
- 성함: ${input.name}
- 생년월일: ${input.birthDate}
- 출생시간: ${birthTimeText}
- 성별: ${genderText}

**분석 요구사항** (Pro 고급 분석):
다음 섹션을 포함하여 상세한 사주분석 결과를 마크다운 형식으로 작성해주세요:

1. **천간(天干)과 지지(地支)**: 생년월일시의 사주팔자를 계산하고 해석
2. **오행(五行) 분석**: 목(木), 화(火), 토(土), 금(金), 수(水)의 균형 분석
3. **대운(大運)과 세운(歲運)**: 인생의 흐름과 현재 운세
4. **성격 분석**: 타고난 성격, 장단점, 대인관계 성향
5. **재운 분석**: 재물운, 재테크 성향
6. **건강운 분석**: 주의해야 할 건강 부위
7. **연애운 분석**: 이성관계, 결혼운
8. **직업운 및 사업운** (Pro 전용): 적합한 직업 분야, 사업 성공 가능성, 투자 조언
9. **월별 운세** (Pro 전용): 향후 12개월 운세 및 길일 분석

**출력 형식**: 마크다운 (제목, 목록, 강조 활용)

**금지 사항**:
- 의료·법률 조언 금지
- 확정적 미래 예측 금지
- 부정적·공격적 표현 금지

각 섹션은 명확한 제목(## 또는 ###)으로 구분하고, Pro 사용자에게 맞는 깊이 있는 분석을 제공해주세요.`;
}
